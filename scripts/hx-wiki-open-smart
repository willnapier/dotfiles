#!/bin/bash
# Smart wrapper for opening wiki links
# Opens text files in Helix floating pane, media files in system viewer

# Check if temp file exists (created by hx-wiki for text files)
if [ -f /tmp/helix-current-link.md ]; then
    # Text file - open in floating Helix (close pane when Helix exits)
    zellij run --floating --close-on-exit -- hx /tmp/helix-current-link.md
else
    # Media file - already opened by hx-wiki script, do nothing
    :
fi
