#!/usr/bin/env nu

# Helix Activity Duration Processor
# Ensures proper file sync before processing
# Usage: hx-process-durations <file_path>

def main [file_path: string] {
    # Brief status indicator
    print $"⚡ Processing: ($file_path | path basename)"
    
    # Process the file
    activity-duration-processor $file_path
    
    # Touch file to ensure modification timestamp updates
    touch $file_path
    
    print "✅ Duration processing complete"
}